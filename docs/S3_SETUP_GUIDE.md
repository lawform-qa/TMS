# S3 설정 가이드

## 개요
테스트 스크립트를 S3에 저장하여 운영 환경에서도 접근할 수 있도록 하는 기능입니다.

## AWS S3 설정

### 1. AWS 계정 설정
1. AWS 콘솔에 로그인
2. IAM 서비스로 이동
3. 새 사용자 생성 또는 기존 사용자 선택
4. S3 권한 정책 연결

### 2. S3 버킷 생성
1. S3 서비스로 이동
2. "버킷 만들기" 클릭
3. 버킷 이름: `test-platform-scripts` (또는 원하는 이름)
4. 리전: `ap-northeast-2` (서울)
5. 퍼블릭 액세스 차단 설정: "모든 퍼블릭 액세스 차단" 체크
6. 버킷 생성

### 3. IAM 정책 설정
다음 정책을 사용자에게 연결:

```json
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                "s3:GetObject",
                "s3:PutObject",
                "s3:DeleteObject",
                "s3:ListBucket"
            ],
            "Resource": [
                "arn:aws:s3:::test-platform-scripts",
                "arn:aws:s3:::test-platform-scripts/*"
            ]
        }
    ]
}
```

### 4. 환경 변수 설정
백엔드 `.env` 파일에 다음 설정 추가:

```env
# AWS S3 설정
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=ap-northeast-2
S3_BUCKET_NAME=test-platform-scripts
```

## 기능 설명

### 1. S3 업로드
- 파일을 S3에 업로드하여 클라우드에 저장
- 파일명에 타임스탬프 추가로 중복 방지
- 자동 Content-Type 감지

### 2. 코드 에디터
- Monaco Editor를 사용한 고급 코드 에디터
- 구문 강조, 자동 완성, 폴딩 등 지원
- 다양한 프로그래밍 언어 지원

### 3. 파일 관리
- S3 파일 목록 조회
- 파일 내용 편집 및 저장
- 파일 삭제
- 다운로드 URL 생성

### 4. 로컬 파일 지원
- 기존 로컬 파일 시스템과의 호환성 유지
- 읽기 전용으로 로컬 파일 조회 가능

## 사용법

### 1. 테스트 스크립트 탭 접근
- 메인 화면에서 "📁 테스트 스크립트" 탭 클릭

### 2. 파일 업로드
- "📤 파일 업로드" 버튼으로 파일 선택
- 또는 "➕ 새 파일" 버튼으로 새 파일 생성

### 3. 파일 편집
- 파일 목록에서 파일 클릭
- "✏️ 편집" 버튼으로 편집 모드 진입
- Monaco Editor에서 코드 편집
- "💾 저장" 버튼으로 S3에 저장

### 4. 파일 관리
- "⬇️" 버튼으로 파일 다운로드
- "🗑️" 버튼으로 파일 삭제

## 주의사항

1. **AWS 비용**: S3 사용량에 따라 비용이 발생할 수 있습니다.
2. **보안**: AWS 자격 증명을 안전하게 관리하세요.
3. **백업**: 중요한 파일은 별도로 백업하세요.
4. **권한**: S3 버킷 권한을 최소한으로 설정하세요.

## 문제 해결

### 1. S3 연결 오류
- AWS 자격 증명 확인
- 리전 설정 확인
- 버킷 이름 확인

### 2. 업로드 실패
- 파일 크기 제한 확인 (기본 10MB)
- 네트워크 연결 확인
- AWS 권한 확인

### 3. 에디터 로딩 실패
- 브라우저 캐시 삭제
- 네트워크 연결 확인
- 브라우저 호환성 확인
